//------------------------------------------------------------------------------
// <auto-generated>
//     Este código fue generado por una herramienta.
//     Versión de runtime:4.0.30319.1
//
//     Los cambios en este archivo podrían causar un comportamiento incorrecto y se perderán si
//     se vuelve a generar el código.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.IO;
using System.Text;
using System.Xml;
using System.Xml.Serialization;

// 
// This source code was auto-generated by xsd, Version=4.0.30319.1.
// 



namespace ColpatriaSAI.Negocio.Entidades
{
    //[System.CodeDom.Compiler.GeneratedCodeAttribute("xsd", "4.0.30319.1")]
    //[System.SerializableAttribute()]
    //[System.Diagnostics.DebuggerStepThroughAttribute()]
    //[System.ComponentModel.DesignerCategoryAttribute("code")]
    //[System.Xml.Serialization.XmlTypeAttribute(AnonymousType = true, Namespace = "http://tempuri.org/XMLSchema1.xsd")]
    //[System.Xml.Serialization.XmlRootAttribute(Namespace = "http://tempuri.org/XMLSchema1.xsd", IsNullable = false)]
    public partial class stream
    {

        private streamHeader headerField;

        private streamParameters parametersField;

        /// <comentarios/>
        public streamHeader header
        {
            get
            {
                return this.headerField;
            }
            set
            {
                this.headerField = value;
            }
        }

        /// <comentarios/>
        public streamParameters parameters
        {
            get
            {
                return this.parametersField;
            }
            set
            {
                this.parametersField = value;
            }
        }

        public  string SerializeObjectToXML(object item)
        {
            try
            {
                string xmlText; 
                Type objectType = item.GetType(); 
                XmlSerializer xmlSerializer = new XmlSerializer(objectType); 
                MemoryStream memoryStream = new MemoryStream(); 
                using (XmlTextWriter xmlTextWriter = 
                    new XmlTextWriter(memoryStream, Encoding.ASCII) 
                    { Formatting = Formatting.None }) 
                    { xmlSerializer.Serialize(xmlTextWriter, item); 
                    memoryStream = (MemoryStream)xmlTextWriter.BaseStream; 
                    xmlText = new ASCIIEncoding().GetString(memoryStream.ToArray()); 
                    memoryStream.Dispose(); return xmlText; 
                }
            } catch (Exception e)
            {
                System.Diagnostics.Debug.Write(e.ToString()); return null;
            }
        }

        public string ConverUserAutenticationToXml(stream obj)
        {

            MemoryStream stream = null;
            TextWriter writer = null;
            try
            {

            


            
            //-------


            stream = new MemoryStream(); // read xml in memory
                writer = new StreamWriter(stream, Encoding.Unicode);
                // get serialise object
                XmlSerializer serializer = new XmlSerializer(typeof(stream));
                serializer.Serialize(writer, obj); // read object
                int count = (int)stream.Length; // saves object in memory stream
                byte[] arr = new byte[count];
                stream.Seek(0, SeekOrigin.Begin);
                // copy stream contents in byte array
                stream.Read(arr, 0, count);
                UnicodeEncoding utf = new UnicodeEncoding(); // convert byte array to string
               

                return utf.GetString(arr).Trim();

            }
            catch
            {
                return string.Empty;
            }
            finally
            {
                if (stream != null) stream.Close();
                if (writer != null) writer.Close();
            }


        }
    }

    /// <comentarios/>
    //[System.CodeDom.Compiler.GeneratedCodeAttribute("xsd", "4.0.30319.1")]
    //[System.SerializableAttribute()]
    //[System.Diagnostics.DebuggerStepThroughAttribute()]
    //[System.ComponentModel.DesignerCategoryAttribute("code")]
    //[System.Xml.Serialization.XmlTypeAttribute(AnonymousType = true, Namespace = "http://tempuri.org/XMLSchema1.xsd")]
    public partial class streamHeader
    {

        private string transaccionField;

        private string ipRequestField;

        private string dataSourceField;

        private string companyField;

        private string aplicationField;

        private string dataBaseField;

        /// <comentarios/>
        public string Transaccion
        {
            get
            {
                return this.transaccionField;
            }
            set
            {
                this.transaccionField = value;
            }
        }

        /// <comentarios/>
        public string IpRequest
        {
            get
            {
                return this.ipRequestField;
            }
            set
            {
                this.ipRequestField = value;
            }
        }

        /// <comentarios/>
        public string DataSource
        {
            get
            {
                return this.dataSourceField;
            }
            set
            {
                this.dataSourceField = value;
            }
        }

        /// <comentarios/>
        public string Company
        {
            get
            {
                return this.companyField;
            }
            set
            {
                this.companyField = value;
            }
        }

        /// <comentarios/>
        public string Aplication
        {
            get
            {
                return this.aplicationField;
            }
            set
            {
                this.aplicationField = value;
            }
        }

        /// <comentarios/>
        public string DataBase
        {
            get
            {
                return this.dataBaseField;
            }
            set
            {
                this.dataBaseField = value;
            }
        }
    }

    /// <comentarios/>
    //[System.CodeDom.Compiler.GeneratedCodeAttribute("xsd", "4.0.30319.1")]
    //[System.SerializableAttribute()]
    //[System.Diagnostics.DebuggerStepThroughAttribute()]
    //[System.ComponentModel.DesignerCategoryAttribute("code")]
    //[System.Xml.Serialization.XmlTypeAttribute(AnonymousType = true, Namespace = "http://tempuri.org/XMLSchema1.xsd")]
    public partial class streamParameters
    {

        private string nroDocField;

        private string tipoDocField;

        private string pwsField;

        private string perfilField;

        /// <comentarios/>
        public string NroDoc
        {
            get
            {
                return this.nroDocField;
            }
            set
            {
                this.nroDocField = value;
            }
        }

        /// <comentarios/>
        public string TipoDoc
        {
            get
            {
                return this.tipoDocField;
            }
            set
            {
                this.tipoDocField = value;
            }
        }

        /// <comentarios/>
        public string Pws
        {
            get
            {
                return this.pwsField;
            }
            set
            {
                this.pwsField = value;
            }
        }

        /// <comentarios/>
        public string Perfil
        {
            get
            {
                return this.perfilField;
            }
            set
            {
                this.perfilField = value;
            }
        }
    }
}